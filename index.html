<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMS Marketing Agency | AI Scam Detector</title>
    <style>
        :root {
            --primary: #000000;
            --secondary: #555555;
            --bg-light: #f9f9f9;
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            line-height: 1.6;
            color: #333;
            background: #fff;
        }

        /* Header & Navigation */
        header {
            background: var(--primary);
            color: #fff;
            padding: 40px 20px;
            display: flex;
            align-items: center;
            gap: 40px;
        }

        header img {
            max-width: 120px;
            background: #fff;
            border-radius: 4px;
            padding: 5px;
        }

        nav {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            z-index: 1000;
            border-bottom: 1px solid #eee;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 30px;
            padding: 15px 0;
            margin: 0;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--primary);
            font-weight: 600;
        }

        /* Main Content */
        section {
            padding: 80px 20px;
            max-width: 900px;
            margin: auto;
        }

        .detector-container {
            background: var(--bg-light);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        textarea {
            width: 100%;
            min-height: 180px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            box-sizing: border-box;
            transition: var(--transition);
        }

        textarea:focus {
            border-color: var(--primary);
            outline: none;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .btn-analyze {
            background: var(--primary);
            color: #fff;
            flex: 2;
        }

        .btn-clear {
            background: #e0e0e0;
            color: #333;
            flex: 1;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        /* Results UI */
        .result-area {
            margin-top: 30px;
            padding: 25px;
            border-radius: 10px;
            display: none;
            animation: slideIn 0.4s ease-out;
        }

        .show { display: block; }

        .risk-low { background: #d4edda; border-left: 6px solid #28a745; color: #155724; }
        .risk-medium { background: #fff3cd; border-left: 6px solid #ffc107; color: #856404; }
        .risk-high { background: #f8d7da; border-left: 6px solid #dc3545; color: #721c24; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        footer {
            background: var(--primary);
            color: #fff;
            text-align: center;
            padding: 30px;
            margin-top: 50px;
        }
    </style>
</head>
<body>

    <header>
        <img src="./Logo.png" alt="TMS Logo">
        <div>
            <h1>TMS Marketing Agency</h1>
            <p>Project: AI Scam Language Analysis</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#detector">Scam Detector</a></li>
            <li><a href="#about">About Project</a></li>
        </ul>
    </nav>

    <main>
        <section id="detector">
            <h2>AI Content Scanner</h2>
            <p>Paste an email, SMS, or web ad below to check for fraudulent patterns using Gemini 1.5 Flash.</p>
            
            <div class="detector-container">
                <textarea id="scamInput" placeholder="Paste suspected text here..."></textarea>
                
                <div class="button-group">
                    <button id="analyzeBtn" class="btn btn-analyze" onclick="analyzeText()">Analyze with Gemini AI</button>
                    <button class="btn btn-clear" onclick="resetForm()">Clear</button>
                </div>
                
                <div id="resultBox" class="result-area">
                    <h3 id="riskTitle"></h3>
                    <p id="riskSummary"></p>
                    <div id="flagList"></div>
                </div>
            </div>
        </section>

        <section id="about">
            <h2>About this School Project</h2>
            <p>This tool demonstrates how Large Language Models (LLMs) can be used to protect consumers by identifying linguistic "red flags" commonly used by scammers, such as artificial urgency, impersonation, and suspicious links.</p>
        </section>
    </main>

    <footer>
        <p>Â© 2026 TMS Marketing Agency | Student Educational Project</p>
    </footer>

    <script>
        // YOUR API KEY
        const API_KEY = "AIzaSyC1FO7Rc7xmM-hoyeMqpXF8fRnB_WG7Efk";

        async function analyzeText() {
            const text = document.getElementById('scamInput').value;
            const btn = document.getElementById('analyzeBtn');
            const resultBox = document.getElementById('resultBox');

            if (!text.trim()) {
                alert("Please enter some text!");
                return;
            }

            // Set loading state
            btn.disabled = true;
            btn.textContent = "AI is thinking...";
            resultBox.classList.remove('show');

            try {
                // Endpoint for Gemini 1.5 Flash
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;
                
                const response = await fetch(url, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ 
                                text: `Analyze the following text for scam potential. Return a JSON object with: 
                                1. 'risk': 'Low', 'Medium', or 'High'
                                2. 'style': 'risk-low', 'risk-medium', or 'risk-high'
                                3. 'explanation': a one-sentence summary
                                4. 'flags': an array of 3 specific red flags found.
                                Text: "${text}"` 
                            }]
                        }],
                        generationConfig: { responseMimeType: "application/json" }
                    })
                });

                const data = await response.json();
                
                if (data.error) throw new Error(data.error.message);

                // Parse AI response
                const aiOutput = JSON.parse(data.candidates[0].content.parts[0].text);

                // Update UI
                resultBox.className = `result-area show ${aiOutput.style}`;
                document.getElementById('riskTitle').textContent = `Risk Level: ${aiOutput.risk}`;
                document.getElementById('riskSummary').textContent = aiOutput.explanation;
                
                const listHtml = aiOutput.flags.map(flag => `<li>${flag}</li>`).join('');
                document.getElementById('flagList').innerHTML = `<strong>Detected Red Flags:</strong><ul>${listHtml}</ul>`;

            } catch (err) {
                console.error(err);
                alert("Error: " + err.message);
            } finally {
                btn.disabled = false;
                btn.textContent = "Analyze with Gemini AI";
            }
        }

        function resetForm() {
            document.getElementById('scamInput').value = "";
            document.getElementById('resultBox').classList.remove('show');
        }
    </script>
</body>
</html>
